cache-service {
  # Redis configuration
  redis {
    host = "localhost"
    host = ${?REDIS_HOST}
    
    port = 6379
    port = ${?REDIS_PORT}
    
    password = ""
    password = ${?REDIS_PASSWORD}
    
    # Connection pool settings
    connection-pool {
      max-connections = 10
      max-idle = 5
      timeout-ms = 5000
    }
    
    # Retry settings
    retry {
      max-attempts = 3
      initial-delay-ms = 100
      max-delay-ms = 1000
      backoff-multiplier = 2.0
    }
  }
  
  # File store configuration
  file-store {
    path = "filestore.kv"
    path = ${?FILE_STORE_PATH}
    
    # File permissions (unix style)
    permissions = "rw-r--r--"
    
    # Buffer size for file operations
    buffer-size = 8192
    
    # Enable file locking
    use-file-lock = true
  }
  
  # Cache layer configuration
  cache-layers {
    # Primary cache layer (redis, file, or memory)
    primary = "redis"
    primary = ${?PRIMARY_CACHE}
    
    # Fallback cache layer
    fallback = "file"
    fallback = ${?FALLBACK_CACHE}
    
    # Enable fallback on primary failure
    enable-fallback = true
  }
  
  # General cache settings
  cache {
    # Default TTL in seconds (0 = no expiration)
    default-ttl = 3600
    default-ttl = ${?CACHE_DEFAULT_TTL}
    
    # Max cache size (for memory cache)
    max-size = 1000
    
    # Eviction policy: LRU, LFU, FIFO
    eviction-policy = "LRU"
  }
  
  # Logging configuration
  logging {
    level = "INFO"
    level = ${?LOG_LEVEL}
    
    # Log cache hits/misses
    log-cache-metrics = true
    
    # Log slow operations (ms)
    slow-operation-threshold = 100
  }
  
  # Application settings
  application {
    name = "cache-service"
    version = "0.1"
    
    # Enable health check endpoint
    health-check-enabled = true
    
    # Metrics collection
    metrics {
      enabled = true
      export-interval-seconds = 60
    }
  }
}